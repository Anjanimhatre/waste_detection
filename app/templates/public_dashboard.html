{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}waste manager{% endblock %}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body{
            background-image: url("{% static 'd.avif' %}");
            
            /* Makes sure the image covers the whole page */
            background-position: center; /* Centers the image */
            background-repeat: no-repeat;
        }
        /* Navbar Styling */
        .navbar {
            background-color: darkgreen;
        }
        .navbar a {
            color: yellow !important;
        }
        
        /* Carousel Section */
        .carousel-item img {
            width: 100%;
            object-fit: cover;
        }
        #carouselExample {
        height: 100vh;
    }
        
        .slider-container {
            width: 100%;
            overflow: hidden;
            background: #222;
            padding: 20px 0;
            position: relative;
        }

        .slider {
            display: flex;
            gap: 30px;
            width: max-content;
            animation: slide 10s linear infinite;
        }

        .slide {
            min-width: 200px;
            height: 40vh;
            background: #4CAF50;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            border-radius: 10px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Smooth infinite scrolling animation */
        @keyframes slide {
            from { transform: translateX(0); }
            to { transform: translateX(-50%); } /* Moves only half to allow seamless looping */
        }
        .flip-card {
            background-color: (#21f364, #3ea123,#f0d54e);
            width: 300px;
            height: 300px;
             perspective: 1000px;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
        }
        .flip-card-front {
            background-color: (#21f364, #3ea123,#f0d54e);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .flip-card-front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 10px;
        }
        .flip-card-back {
            background-color: rgb(0, 255, 204);
            transform: rotateY(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            padding: 10px;
        }
        .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            padding: 20px;
        }
        /* Footer Styling */
        .footer {
    background-color: #064420; /* Dark green */
    color: yellow;
    padding: 30px 0;
    text-align: center;
}

.footer-container {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    max-width: 1200px;
    margin: auto;
}

.footer-section {
    flex: 1;
    padding: 20px;
    min-width: 250px;
}

.footer-section h2 {
    margin-bottom: 15px;
    font-size: 20px;
    text-transform: uppercase;
}

.footer-section ul {
    list-style: none;
    padding: 0;
}

.footer-section ul li {
    margin: 5px 0;
}

.footer-section ul li a {
    color: yellow;
    text-decoration: none;
    transition: color 0.3s;
}

.footer-section ul li a:hover {
    color: white;
}

.footer-bottom {
    margin-top: 20px;
    font-size: 14px;
}

        .spacer {
            height: 80vh; /* Space to allow scrolling */
        }
        .spacer1 {
            height: 50vh; /* Space to allow scrolling */
        }
        .reveal-container {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1s ease-out, transform 1s ease-out;
            width: 100%;
            height:70vh;
            margin: auto;
            padding: 40px;
            background: rgb(26, 72, 12);
            
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .reveal-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .info {
            flex: 1;
            text-align: left;
            padding-right: 20px;
        }

        .info h2 {
            color: #ffffff;
        }

        .info p {
            color: #ffffff;
            line-height: 1.6;
        }

        .image-container img {
            width: 100%;
            max-width: 500px;
            border-radius: 10px;
            
        }

 
        .video-section {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 80vh; /* Adjust height based on content */
            background-color: black; /* Full black background */
            padding: 20px;
        }

        .text-container {
            flex: 1;
            padding: 40px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .video-section {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 80vh; /* Adjust height based on content */
            background-color: black; /* Full black background */
            padding: 20px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1s ease-out, transform 1s ease-out;
        }

        .video-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .text-container {
            flex: 1;
            padding: 40px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .video-container {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Ensures full video covers the space */
            border-radius: 10px;
        }
    </style>
</head>

    
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'public_dashboard' %}">WEdetect</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="{% url 'public_dashboard' %}">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'detect_waste' %}">Detect</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'upload_image' %}">send us</a></li>
                   
                    <li class="nav-item"><a class="nav-link" href="{% url 'logout' %}">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <main>
        {%block content%} 
    <!-- Carousel Section -->
    <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'c.avif' %}" alt="Image 1" data-bs-ride="carousel">
            </div>
            <div class="carousel-item">
                <img src="{% static 'd1.avif' %}" alt="Image 2"data-bs-ride="carousel">
            </div>
            <div class="carousel-item">
                <img src="{% static 'd2.avif' %}" alt="Image 3" data-bs-ride="carousel">
            </div>
        </div>
    </div>
    


    <div class="slider-container">
        <div class="slider" id="slider">
            <!-- Images will be added dynamically -->
        </div>
    </div>

    <div class="spacer1"></div> <!-- Space for scrolling -->

    <div class="reveal-container">
        <div class="info">
            <h2>Waste Detection System</h2>
            <p>Our AI-powered waste detection system analyzes images and classifies waste into categories like recyclable, biodegradable, and hazardous.  
            This helps in proper waste disposal and promotes environmental sustainability.</p>
        </div>
        <div class="image-container">
            <img src="{% static 'a.jpg' %}" alt="Waste Detection Image">
        </div>
    </div>

    <div class="spacer"></div> <!-- More space for testing -->
    <div class="spacer"></div> 
    <div class="card-container">
        <!-- First Row of Cards -->
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '3.jpg' %}" alt="Image 1">
                </div>
                <div class="flip-card-back">Our nature is so beautiful, filled with lush green forests, towering mountains, and vast blue oceans.

                </div>
            </div>
        </div>
     

        
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '2.jpg' %}" alt="Image 2">
                </div>
                <div class="flip-card-back">The vibrant colors of flowers, the soothing sound of rivers, and the fresh air make the earth a paradise.</div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '2.jpg' %}" alt="Image 3">
                </div>
                <div class="flip-card-back">Every sunrise brings warmth and hope, while the twinkling stars at night remind us of the universe’s wonders.</div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '1.jpg' %}" alt="Image 4">
                </div>
                <div class="flip-card-back">The chirping birds, playful animals, and gentle breeze create a symphony of life all around us.</div>
            </div>
        </div>

        <!-- Second Row of Cards -->
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '1.jpg' %}" alt="Image 5">
                </div>
                <div class="flip-card-back">Nature provides us with food, water, and clean air, yet it asks for nothing in return but care and respect.</div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '3.jpg' %}" alt="Image 6">
                </div>
                <div class="flip-card-back">When we protect nature, we ensure a safe and healthy future for all living beings.</div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '1.jpg' %}" alt="Image 7">
                </div>
                <div class="flip-card-back">By planting trees, reducing waste, and embracing sustainability, we can keep nature’s beauty alive for generations to come. 🌎✨</div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <img src="{% static '2.jpg' %}" alt="Image 8">
                </div>
                <div class="flip-card-back">Let’s cherish, preserve, and celebrate our beautiful nature before it’s too late. 🌿💚</div>
            </div>
        </div>
    </div>

    <div class="spacer"></div> <!-- Space to scroll -->
    <div class="video-section" id="videoSection">
        <div class="text-container">
            🔥 <strong>Waste Detection System</strong>  
            Our AI-powered system helps identify and categorize waste efficiently, promoting a cleaner environment.
        </div>
        <div class="video-container">
            <video autoplay loop muted playsinline>
                <source src="{% static 'v1.mp4' %}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <div class="spacer1"></div> <!-- Space to scroll -->


{% endblock%}
</main>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section about">
                <h2>About Us</h2>
                <p>We provide AI-powered waste detection solutions to help build a cleaner and more sustainable future.</p>
            </div>
            <div class="footer-section links">
                <h2>Quick Links</h2>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Detect</a></li>
                    <li><a href="#">Upload</a></li>
                    <li><a href="#">Profile</a></li>
                    <li><a href="#">Login</a></li>
                    <li><a href="#">Logout</a></li>
                </ul>
            </div>
            <div class="footer-section contact">
                <h2>Contact Info</h2>
                <p>Email: support@wastedetect.com</p>
                <p>Phone: +123 456 7890</p>
                <p>Location: Green City, Earth</p>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2025 WasteDetect | All Rights Reserved
        </div>
    </footer>
    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
            function revealOnScroll() {
            let revealContainer = document.querySelector('.reveal-container');
            let windowHeight = window.innerHeight;
            let elementTop = revealContainer.getBoundingClientRect().top;
            let revealPoint = 100;

            if (elementTop < windowHeight - revealPoint) {
                revealContainer.classList.add('show');
            }
        }

        window.addEventListener('scroll', revealOnScroll);
     
        {
            const slider = document.getElementById("slider");

// List of images
const images = [
    "{%static 's1.avif'%}",
    "{%static 's2.avif'%}",
    "{%static 's3.avif'%}",
    "{%static 's4.avif'%}",
    "{%static 's5.avif'%}",
    "{%static 's6.avif'%}",
    "{%static 's7.avif'%}",
    "{%static 's8.avif'%}",
    "{%static 's9.avif'%}",
    "{%static 's10.avif'%}"
];

// Generate image slides dynamically
images.forEach(src => {
    let slide = document.createElement("div");
    slide.className = "slide";
    let img = document.createElement("img");
    img.src = src;
    slide.appendChild(img);
    slider.appendChild(slide);
});

// Clone first few images for smooth loop effect
for (let i = 0; i < 2; i++) {
    let clone = slider.children[i].cloneNode(true);
    slider.appendChild(clone);
}
        }
        {
            function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        function handleScroll() {
            const videoContainer = document.getElementById("videoSection");
            const iframe = document.getElementById("videoPlayer");
            const player = iframe.contentWindow;

            if (isElementInViewport(videoContainer)) {
                videoContainer.classList.add("visible");
                player.postMessage('{"event":"command","func":"playVideo","args":""}', "*");
            } else {
                player.postMessage('{"event":"command","func":"pauseVideo","args":""}', "*");
            }
        }

        window.addEventListener("scroll", handleScroll);

        }
        document.addEventListener("DOMContentLoaded", function () {
            const videoSection = document.getElementById("videoSection");

            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            videoSection.classList.add("visible");
                        }
                    });
                },
                { threshold: 0.5 } // Trigger when 50% of the section is visible
            );

            observer.observe(videoSection);
        });
    </script>
</body>
</html>
